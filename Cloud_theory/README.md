## Рубежка 1 - вариант 7
> Опишите бессерверные вычисления. Как это так, вычисления без сервера?

Представьте, что вы пришли на стрижку в салон, и вас просят оплатить счета за электричество, воду, инструменты, работу мастера, аренду помещения и мебели, и ещё за многое-многое другое. Вот примерно так обычно строится инфраструктура в облаке - вы арендуете ВМ, докупаете к ней постоянный IP, платите за использование ОС (если она не распространяется бесплатно), аренду диска, вычислительные ресурсы, затем устанавливаете на неё все необходимые инструменты, настраиваете их и только после этого можете реализовать свою задумку. К тому же вам нужно решить, какого размера диск вам нужен, как много потребуется вычислительных мощностей (памяти, ядер). Немаловажным будет и оценка примерной нагрузки создаваемого сервиса, ведь нельзя, чтобы ресурсы простаивали (получается, кеш в никуда) или их наоборот не хватало при пиковых нагрузках (а тут потеря покупателей, которые не смогли воспользоваться сервисом, потому что он упал, например). Всё это требует значительного времени и соответствующих компетенций со стороны специалистов.

`Serverless` вычисления решают все эти проблемы. По сути облачные провайдеры (**Selectel**, **Yandex Cloud**, **AWS**, **Azure**, **Google Cloud**) предоставляют возможность не думать о настройке инфраструктуры, и о том, как и с помощью чего будет выполнено то, что вы хотите запустить - они позаботятся об этом сами. Плюсы такого подхода налицо:
1. Не нужно тратить время на настройку инфраструктуры (и не нужны отдельные специалисты для этого), можно потратить его на разработку запускаемого продукта. 
2. Можно не прогнозировать нагрузку сервиса, потому что просто-напросто нет ресурсов, которые могли бы простаивать (опа, экономия) или которых не хватало бы.
3. Нет необходимости переживать за доступность и безопасность сервиса (на уровне инфраструктуры).
4. В **Yandex Cloud**, например, есть `Free tier`, если сервис небольшой, то можно обойтись без оплаты вообще.
 **Yandex Cloud**, к примеру, предоставляет сразу несколько `serverless` сервисов - `Cloud Functions` (запуск функций), `Object Storage` (хранилище), `Serverless` `YDB` (БД), `Yandex Serverless Containers` (контейнеры), `API Gateway` (шлюзы) и другие.

Важно упомянуть про тарификацию `serverless` вычислений. Тут вы оплачиваете не раз в час/день/месяц фиксированную сумму, а количество ваших запросов и использованные на эти запросы ресурсы. Например, в `Cloud Functions` **Yandex Cloud'а** платят за объём памяти, выделенной для функции + за время её исполнения. К тому же, тарифицируются только те вызовы функций, которые приводят к запуску вашего кода (кажется, если ошибаться в запуске функций на арендованной ВМ, то это не будет бесплатно, как тут, да?).

Конечно, вычислений без сервера не существует, и в `serverless` подходе вычисления производятся на серверах провайдера, а не на ваших - получается они `serverless` только для вас =).

## Рубежка 2 - вариант 4
> Какие есть способы экономить в облаке? Объясните подробно разницу между моделью использования по требованию (on demand) и резервацией мощностей (reserved). Есть ли другие модели использования облака?

Вариантов экономить в облаке немало. Разберём их:
1. **FinOps Framework.** Это про финансовую дисциплину и культурные практики для повышения ценности бизнеса. Не секрет, что зачастую в используемом облаке есть недоиспользованные ресурсы, старые сервисы, некомпетентные сотрудники и отсутствие централизованной системы управления всем-всем. Всё это тратит бюджет бизнеса. **FinOps** предполагает наличие определённых принципов (команды должны коллаборировать, каждый должен отвечать за своё использование облака, решения должны основываться на ценности облака для бизнеса и др.), персон (**FinOps** Practitioner, руководитель, финансисты, инженеры и др.), модели зреслости (crawl, walk, run), доменов и фаз (внедрение, оптимизация, эксплуатация). **FinOps** повышает экономическую эффективность IT инфраструктуры, граммотно выстраивая работу в облаке, следя за ресурсами и сервисами. Также **FinOps** предусматривает возможность сотрудничества с различными провайдерами для получения скидки за использование именно их продуктов.
2. **Free tier.** **AWS**, например, предоставляет [**free tier**](https://aws.amazon.com/free/?all-free-tier.sort-by=item.additionalFields.SortRank&all-free-tier.sort-order=asc&awsf.Free%20Tier%20Types=*all&awsf.Free%20Tier%20Categories=*all&awsm.page-all-free-tier=5) на `Amazon EC2` (750h), `Amazon S3` (5GB), `AWS Lambda` (1 Million requests) и ещё на многие другие свои сервисы (их действительно очень много). Что-то доступно для пользователей, зарегестрировавшихся не более 12 месяцев назад, что-то в качестве Free Trial, но есть и те, что бесплатны всегда (Always Free).
3. **Storage class.** У **AWS**, например, есть разделение `S3` на `S3 Standard`, `S3 Intelligent-Tiering`, `S3 Standard-Infrequent Access`, `S3 One Zone-Infrequent Access`, `S3 Express One Zone`, `S3 Glacier Instant Retrieval`, `S3 Glacier Flexible Retrieval` и `S3 Glacier Deep Archive`. В зависимости от потребностей продукта можно выбрать подоходящий класс хранилища и платить за него кратно меньше. К примеру, цена за `S3 Standard` $0.021 - 0.023 per GB против $0.00099 per GB для `S3 Glacier Deep Archive`. (не забываем, конечно, учитывать, что запросы к `Glacier` будут стоить дороже, важно понимать, какой вариант будет оптимальнее в каждой конкретной ситуации)
4. **Reserved instances (vs on demand).** Снова возьмём за пример **AWS** - он предоставляет возможность зарезервировать инстансы на год или на 3 года. В сравнении с обычной арендой инстансов получается скидка до 72%. По сути вместо почасовой аренды и оплаты вы арендуете инстанс сразу надолго - за это и скидка. Также `reserved` инстансы делятся на `Standard` и `Convertible` - вторые подороже, но с возможностью менять семейства инстансов, ОС на них и tenancy (расположение на физических серверах вместе с другими клиентами или на выделенном только для вас физическом сервере). Всё для тех же `reserved` есть три способа оплаты: полная предоплата, частичная предоплата и без предоплаты. По сути за вами закрепляется обязательство пользования (и помесячной оплаты) в течение года или трёх зарезервированным инстансом, если вы не используете эти ресурсы - вы просто будете терять кеш((. В случае `on demand` инстансов, вы платите регулярно (раз в час, например) и имеете возможность остановить инстансы в любой момент и не платить за них во время простоя (кроме траты на диски, статический айпи и др.). В общем, если нагрузка предсказуемая, лучше использовать `reserved` инстансы, потому что они предлагают хорошую скидку.
5. **Другие модели использования - spot, burstable, saving plans.** 
- Есть ещё `spot` инстансы - прерываемые инстансы, которые могут быть не всегда доступны. Если есть свободные - можно пользоваться, если нагрузка возросла и этот инстанс ушёл другому клиенту - пользоваться не выйдет. Подойдёт для тестировки и не важных по доступности проектов. 
- `Burstable` инстансы - инстансы, которые могут работать на низких нагрузках (например, в 50% cpu), но в пиковые моменты использовать все свои мощности. Подойдёт для каких-то сезонных сервисов, где нагрузка редко, но сильно возрастает. 
- [Saving plans](https://aws.amazon.com/savingsplans/compute-pricing/) - планы на аренду, что-то вроде `reserved` инстансов, но тут нет предоплаты и платежи вносятся не раз в месяц, а раз в час, как у обычных `on demand`. Смысл в том, что эти платежи раз в час вы обязуетесь проводить в течение года или 3 лет - поэтому и скидка в сравнении с `on demand`. Применяется не только к инстансам, но и к `AWS Fargate`, `AWS Lambda`. 